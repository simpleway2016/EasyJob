<!DOCTYPE html>
<html>
<head>
    <script src="scripts/BigInt.js" type="text/javascript"></script>
    <script src="scripts/RSA.js" type="text/javascript"></script>
    <script src="scripts/Barrett.js" type="text/javascript"></script>
    <script src="scripts/jquery.js" type="text/javascript"></script>
    <script src="scripts/sonic.js" type="text/javascript"></script>
    <script src="scripts/wayscriptremoting.js" type="text/javascript"></script>
    <script src="gridviewtest.js" type="text/javascript"></script>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title></title>
	<meta charset="utf-8" />
    <style>
        td {
        border-right:1px solid blue;
        }
    </style>
</head>
<body controller="Way.Lib.ScriptRemoting.Test.TestPage" style="overflow:hidden;">
    <div>
        filetest:<input type="file" id="file1" /><input type="button" value="upload" onclick="uploadfile()" />
    </div>
    <input type="button" value="rebind" onclick="grid.databind()" />
    <div id="searchDiv">
        caption:<input type="text" databind="value=@caption"/>TableID:<input type="text" databind="value=@TableID" /><input type="button" value="search" onclick="goSearch()" />
    </div>
    <div id="div1" style="background-color:#aaaaaa;"></div>
    <WayGridView id="grid" datasource="Way.Lib.ScriptRemoting.WinTest.MyDB.DBColumn" allowedit="true" style="width:100%;height:280px;">
        <script for="body" type="text/html">
            <table style="width:100%;border-collapse:collapse;"></table>
        </script>
        <script for="header" type="text/html">
            <tr>
                <td style="background-color:#aaaaaa;">Name</td>
                <td>caption</td>
                <td>dbType</td>
                <td>TableID</td>
                <td>TableName</td>
            </tr>
        </script>

        <script for="footer" type="text/html">
            <tr>
                <td style="background-color:#aaaaaa;">footer1</td>
                <td >footer2</td>
                <td>footer3</td>
                <td>f</td>
            </tr>
        </script>

        <script for="item" type="text/html">
            <tr >
                <td style="background-color:#aaaaaa;" databind="style.backgroundColor=$Color">
                   <input type="checkbox" databind="checked=$Selected;"><span onclick="alert(grid.items[{ $ItemIndex }]._status.Selected); ">{$ItemIndex}.{@Name}
                    {$Color}
                    </span> 

                </td>
                <td>{@caption}</td>
                <td>{@dbType}</td>
                <td onclick="edit({$ItemIndex});">{@TableID}&nbsp;编辑</td>
                <td>{@TableID:Way.Lib.ScriptRemoting.WinTest.MyDB.DBTable.id:name}</td>
            </tr>
        </script>

        <script for="item" match="@Name=='id'" type="text/html">
            <tr style="color:blue;">
                <td style="background-color:#aaaaaa;">
                    {$ItemIndex}.{@Name}
                </td>
                <td>{@caption}</td>
                <td>{@dbType}</td>
                <td>{@TableID}</td>
                <td>{@TableID:Way.Lib.ScriptRemoting.WinTest.MyDB.DBTable.id:name}</td>
            </tr>
        </script>

        <script for="item" mode="edit" type="text/html">
            <tr>
                <td style="background-color:#aaaaaa;">
                    <input type="text" databind="value=@Name" />
                </td>
                <td>{@caption}</td>
                <td>
                    <input type="text" databind="value=@dbType" />
                    <input type="button" value="ok" onclick="save({$ItemIndex})" />
                </td>
                <td>{@TableID}</td>
                <td>TableName</td>
            </tr>
        </script>
    </WayGridView>
   <div id="tdfooter"></div>
    <div id="hjDiv"></div>
    <div id="totalDiv"></div>

    <div id="editor"></div>

    <!--<script src="WayScriptRemoting" type="text/javascript"></script>-->
  
</body>
</html>
